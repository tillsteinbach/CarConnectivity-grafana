{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "limit": 100,
        "name": "Annotations & Alerts",
        "showIn": 0,
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      },
      {
        "datasource": {
          "type": "postgres",
          "uid": "P2EF847825A020B66"
        },
        "enable": false,
        "hide": false,
        "iconColor": "#73BF69",
        "name": "Online",
        "rawQuery": "SELECT\n  \"onlineTime\" as \"time\",\n  \"offlineTime\" as \"timeend\",\n  CASE WHEN \"onlineTime\"=\"offlineTime\" THEN 'Car sent update'\n            ELSE 'Car went online (' || (\"offlineTime\"-\"onlineTime\") || ')'\n  END AS \"text\"\nFROM\n  onlinestates\nWHERE\n  vehicle_vin = '$VIN' and\n  ($__timeFilter(\"onlineTime\") OR $__timeFilter(\"offlineTime\"))",
        "showIn": 0
      },
      {
        "datasource": {
          "type": "postgres",
          "uid": "P2EF847825A020B66"
        },
        "enable": false,
        "iconColor": "red",
        "name": "Climatization",
        "rawQuery": "SELECT \"time\",\n       \"timeend\",\n       'Climatization on ('\n              || (\"timeend\"-\"time\")\n              || ')' AS \"text\"\nFROM   (\n                SELECT   *,\n                         \"carCapturedTimestamp\"                                           AS \"time\",\n                         Lag(\"climatisationState\") OVER (ORDER BY \"carCapturedTimestamp\") AS \"beforeClimatisationState\",\n                         (\n                                  SELECT   \"carCapturedTimestamp\" AS \"timeend\"\n                                  FROM     climatization          AS climatization2\n                                  WHERE    climatization2.\"climatisationState\" = 'OFF'\n                                  AND      climatization.vehicle_vin = climatization2.vehicle_vin\n                                  AND      climatization.\"carCapturedTimestamp\" < climatization2.\"carCapturedTimestamp\"\n                                  ORDER BY \"carCapturedTimestamp\" limit 1) \"timeend\"\n                FROM     climatization\n                WHERE    vehicle_vin = '$VIN') AS data\nWHERE  \"climatisationState\" != 'OFF'\nAND (\"timeend\"-\"time\") < INTERVAL '1 hour'\nAND    \"beforeClimatisationState\" = 'OFF'\nAND ($__timeFilter(\"time\") OR $__timeFilter(\"timeend\"))"
      },
      {
        "datasource": {
          "type": "postgres",
          "uid": "P2EF847825A020B66"
        },
        "enable": false,
        "iconColor": "blue",
        "name": "Charging",
        "rawQuery": "SELECT \"time\",\n       \"timeend\",\n       'Charging ('\n              || (\"timeend\"-\"time\")\n              || ')' AS \"text\"\nFROM   (\n                SELECT   *,\n                         \"carCapturedTimestamp\"                                           AS \"time\",\n                         Lag(\"chargingState\") OVER (ORDER BY \"carCapturedTimestamp\") AS \"beforeChargingState\",\n                         (\n                                  SELECT   \"carCapturedTimestamp\" AS \"timeend\"\n                                  FROM     charges          AS charges2\n                                  WHERE    charges2.\"chargingState\" != 'CHARGING'\n                                  AND      charges.vehicle_vin = charges2.vehicle_vin\n                                  AND      charges.\"carCapturedTimestamp\" < charges2.\"carCapturedTimestamp\"\n                                  ORDER BY \"carCapturedTimestamp\" limit 1) \"timeend\"\n                FROM     charges\n                WHERE    vehicle_vin = '${VIN}'\n                ) AS data\nWHERE  \"chargingState\" = 'CHARGING'\nAND (\"timeend\"-\"time\") < INTERVAL '1 day'\nAND    \"beforeChargingState\" != 'CHARGING'\nAND ($__timeFilter(\"time\") OR $__timeFilter(\"timeend\"))"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "links": [
    {
      "asDropdown": false,
      "icon": "external link",
      "includeVars": false,
      "keepTime": false,
      "tags": [],
      "targetBlank": true,
      "title": "Car settings",
      "tooltip": "",
      "type": "link",
      "url": "${vwsfriend_url:raw}/settings/vehicle/database/${VIN}"
    },
    {
      "asDropdown": true,
      "icon": "dashboard",
      "includeVars": true,
      "keepTime": false,
      "tags": [
        "vwsfriend"
      ],
      "targetBlank": false,
      "title": "Dashboards",
      "tooltip": "",
      "type": "dashboards",
      "url": ""
    }
  ],
  "liveNow": true,
  "panels": [
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Current state of charge in percent",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "red",
                "value": null
              },
              {
                "color": "green",
                "value": 10
              }
            ]
          },
          "unit": "percent",
          "unitScale": true
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 3,
        "x": 3,
        "y": 0
      },
      "id": 4,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto",
        "text": {}
      },
      "pluginVersion": "10.3.3",
      "targets": [
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Battery SoC\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/drives/primary/level'\nORDER BY time DESC\nLIMIT 1",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Battery SoC\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/drives/primary/level'\nORDER BY time DESC\nLIMIT 1",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Battery (now)",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Battery level and projected range plotted over time.\nSome cars only update these values during startup and shutdown.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "SoC",
            "axisPlacement": "auto",
            "axisSoftMax": 100,
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percent",
          "unitScale": true
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/.*Range/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "lengthkm"
              },
              {
                "id": "custom.axisLabel",
                "value": "Range"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 6,
        "y": 0
      },
      "id": 2,
      "interval": "5m",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max",
            "min"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.2.5",
      "targets": [
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Battery SoC\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/drives/primary/level' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Battery SoC\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/drives/primary/level' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "refId": "2",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Electric Range\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/drives/primary/range' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Electric Range\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/drives/primary/range' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "refId": "1",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Battery Level",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Indicates if the car is currently awake (online) or sleeping.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "text": "Car is offline"
                },
                "1": {
                  "text": "Car is online"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "red",
                "value": null
              },
              {
                "color": "green",
                "value": 1
              }
            ]
          },
          "unit": "none",
          "unitScale": true
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 18,
        "y": 0
      },
      "id": 22,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "/^online$/",
          "values": true
        },
        "showPercentChange": false,
        "text": {
          "titleSize": 40,
          "valueSize": 40
        },
        "textMode": "value",
        "wideLayout": true
      },
      "pluginVersion": "10.3.3",
      "targets": [
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  CASE WHEN v.value IN ('reachable', 'online', 'connected') THEN 1\n       ELSE 0\n  END AS \"online\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/connection_state'\nORDER BY time DESC\nLIMIT 1",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  CASE WHEN v.value IN ('reachable', 'online', 'connected') THEN 1\n       ELSE 0\n  END AS \"online\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/connection_state'\nORDER BY time DESC\nLIMIT 1",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Car Online State",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Time when the last successful connection to the servers were made and time when the last information from the car was received.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "dateTimeAsIso",
          "unitScale": true
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 3
      },
      "id": 13,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "/.*/",
          "values": true
        },
        "showPercentChange": false,
        "text": {},
        "textMode": "value_and_name",
        "wideLayout": true
      },
      "pluginVersion": "10.3.3",
      "targets": [
        {
          "rawQueryText": "SELECT\n  MAX(last_update) * 1000 AS \"Last update from Car\"\nFROM (\n  SELECT unixepoch(start_date) as last_update FROM attribute_float_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n  UNION ALL\n  SELECT unixepoch(start_date) FROM attribute_enum_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n  UNION ALL\n  SELECT unixepoch(start_date) FROM attribute_string_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n  UNION ALL\n  SELECT unixepoch(start_date) FROM attribute_boolean_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n  UNION ALL\n  SELECT unixepoch(start_date) FROM attribute_integer_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n  UNION ALL\n  SELECT unixepoch(start_date) FROM attribute_datetime_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n)",
          "queryText": "SELECT\n  MAX(last_update) * 1000 AS \"Last update from Car\"\nFROM (\n  SELECT unixepoch(start_date) as last_update FROM attribute_float_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n  UNION ALL\n  SELECT unixepoch(start_date) FROM attribute_enum_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n  UNION ALL\n  SELECT unixepoch(start_date) FROM attribute_string_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n  UNION ALL\n  SELECT unixepoch(start_date) FROM attribute_boolean_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n  UNION ALL\n  SELECT unixepoch(start_date) FROM attribute_integer_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n  UNION ALL\n  SELECT unixepoch(start_date) FROM attribute_datetime_value WHERE attribute_id IN (SELECT id FROM attribute WHERE path LIKE '/garage/${VIN}/%')\n)",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Last Data from Car",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Current range calculated from current consumption",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "red",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 5
              },
              {
                "color": "green",
                "value": 10
              }
            ]
          },
          "unit": "lengthkm",
          "unitScale": true
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 3,
        "x": 0,
        "y": 8
      },
      "id": 11,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "last"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto",
        "text": {}
      },
      "pluginVersion": "10.3.3",
      "targets": [
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Electric Range\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/drives/primary/range' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Electric Range\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/drives/primary/range' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Projected Electric Range (now)",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Time remaining until climatization is turned off automatically.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "m",
          "unitScale": true
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 3,
        "x": 3,
        "y": 8
      },
      "id": 19,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "last"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto",
        "text": {}
      },
      "pluginVersion": "10.3.3",
      "targets": [
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Climatization\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/climatization/state' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Climatization\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/climatization/state' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Remaining Climatization Time (now)",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Battery level and projected range plotted over time for primary and secondary engine. This is useful especially for hybrids.\nSome cars only update these values during startup and shutdown.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "SoC",
            "axisPlacement": "auto",
            "axisSoftMax": 100,
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percent",
          "unitScale": true
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/.*Range/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "lengthkm"
              },
              {
                "id": "custom.axisLabel",
                "value": "Range"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 6,
        "y": 8
      },
      "id": 23,
      "interval": "5m",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max",
            "min"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.2.5",
      "targets": [
        {
          "rawQueryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "queryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "refId": "2",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "queryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "refId": "1",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "queryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "refId": "3",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "queryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "refId": "4",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "queryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "refId": "5",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Levels & Range",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Shows information for the usage of VWsFriend\n\nNOTE: Requires configuration - not yet available in EAV schema",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unitScale": true
        },
        "overrides": []
      },
      "gridPos": {
        "h": 16,
        "w": 6,
        "x": 18,
        "y": 8
      },
      "id": 25,
      "options": {
        "SVGBaseFix": false,
        "add100Percentage": true,
        "calcsMutation": "none",
        "centerAlignContent": false,
        "codeData": "{\n  \"text\": \"Random text\"\n}",
        "css": "",
        "dynamicData": false,
        "dynamicFieldDisplayValues": false,
        "dynamicHtmlGraphics": true,
        "dynamicProps": false,
        "html": "<div>\n  <div id=\"warningsDiv\" style=\"display: none;\">\n    <h2>Warnings:</h2>\n    <ul id=\"warningsList\">\n    <ul>\n  </div>\n\n  <div id=\"newsDiv\" style=\"display: none;\">\n    <h2>News:</h2>\n  </div>\n\n  <div id=\"logDiv\" style=\"display: none;\">\n    <h2>Recent Events:</h2>\n    <ul id=\"logsList\" style=\"list-style-type:none\">\n    <ul>\n  </div>\n</div>",
        "onInit": "",
        "onInitOnResize": false,
        "onRender": "const warningsDiv = htmlNode.getElementById('warningsDiv');\nconst warningsList = htmlNode.getElementById('warningsList');\nwarningsDiv.style.display = 'none'\nwhile (warningsList.firstChild) {\n    warningsList.firstChild.remove()\n}\nconst logsDiv = htmlNode.getElementById('logDiv');\nconst logsList = htmlNode.getElementById('logsList');\nlogsDiv.style.display = 'none'\nwhile (logsList.firstChild) {\n    logsList.firstChild.remove()\n}\n\nfunction addWarning(html) {\n  warningsDiv.style.display = ''\n  warning = document.createElement(\"li\")\n  warning.style.color = 'yellow'\n  var template = document.createElement('template');\n  html = html.trim();\n  template.innerHTML = html;\n  warning.append(template.content);\n  warningsList.appendChild(warning)\n}\n\nfunction addLog(html) {\n  logsDiv.style.display = ''\n  log = document.createElement(\"li\")\n  var template = document.createElement('template');\n  html = html.trim();\n  template.innerHTML = html;\n  log.append(template.content);\n  logsList.appendChild(log)\n}\n\nfunction getMetric(seriesName, metricName) {\n  const filteredSeries = data.series.filter((series) => series.refId == seriesName);\n  if(filteredSeries.length > 0 && filteredSeries[0].fields != null\n        && filteredSeries[0].fields.length > 0){\n    const filteredFields = filteredSeries[0].fields.filter((fields) => fields.name == metricName)\n    if(filteredFields.length > 0){\n      return filteredFields[0].values.get(0)\n    }\n  }\n  return null\n}\n\nconst vwsfriend_url = getTemplateSrv().replace(`$vwsfriend_url`);\nconst vin = getTemplateSrv().replace(`$VIN`);\nif(vwsfriend_url == null || vwsfriend_url== ''){\n  addWarning(\"You have to set the URL for the VWsFriend user interface correctly: Go to the user interface on port 4000 and select \\\"Database\\\" > \\”Connection Settings\\\"\")\n}\n\nconst carType = getMetric('vehicle_settings', 'carType')\nconst nickname = getMetric('vehicle_settings', 'nickname')\nconst primaryCapacity = getMetric('vehicle_settings', 'primary_capacity')\nconst primaryCapacityTotal = getMetric('vehicle_settings', 'primary_capacity_total')\nconst secondaryCapacity = getMetric('vehicle_settings', 'secondary_capacity')\nconst secondaryCapacityTotal = getMetric('vehicle_settings', 'secondary_capacity_total')\nconst timezone = getMetric('vehicle_settings', 'timezone')\n\nif(carType == null){\n  addWarning(\"The engine type of \"+nickname+\" could not be detected yet. This should happen soon when receiving data.\")\n}\nelse{\n  switch (carType) {\n    case 'HYBRID':\n      if(primaryCapacity == null){\n        addWarning(\"Some panels need the tank size of \"+nickname+\" to be set. Please set the size here: <a href=\\\"\"+vwsfriend_url+\"/settings/vehicle/database/\"+vin+\"\\\" target=\\”_blank\\”>Vehicle Parameters</a>\")\n      }\n      if(secondaryCapacity == null || secondaryCapacityTotal == null){\n        addWarning(\"Some panels need the battery capacity of \"+nickname+\" to be set. Please set the size here: <a href=\\\"\"+vwsfriend_url+\"/settings/vehicle/database/\"+vin+\"\\\" target=\\”_blank\\”>Vehicle Parameters</a>\")\n      }\n      break;\n    case 'ELECTRIC':\n      if(primaryCapacity == null || primaryCapacityTotal == null){\n        addWarning(\"Some panels need the battery capacity of \"+nickname+\" to be set. Please set the size here: <a href=\\\"\"+vwsfriend_url+\"/settings/vehicle/database/\"+vin+\"\\\" target=\\”_blank\\”>Vehicle Parameters</a>\")\n      }\n      break;\n    default:\n      if(primaryCapacity == null){\n        addWarning(\"Some panels need the battery capacity of \"+nickname+\" to be set. Please set the size here: <a href=\\\"\"+vwsfriend_url+\"/settings/vehicle/database/\"+vin+\"\\\" target=\\”_blank\\”>Vehicle Parameters</a>\")\n      }\n      break;\n  }\n}\nif(timezone == null){\n  addWarning(\"Some panels need the timezone of \"+nickname+\" to be set. Please set the timezone here: <a href=\\\"\"+vwsfriend_url+\"/settings/vehicle/database/\"+vin+\"\\\" target=\\”_blank\\”>Vehicle Parameters</a>\")\n}\nconst hasError = getMetric('error', 'has_error')\nif(hasError){\n  addWarning(\"There were more then two errors in the last 30 minutes when fetching data from the servers.<br/>It seems that there are technical issues.\")\n}\n\n//Log\nconst filteredSeries = data.series.filter((series) => series.refId == 'log');\n  if(filteredSeries.length > 0 && filteredSeries[0].fields != null\n        && filteredSeries[0].fields.length > 0){\n    const filteredFields = filteredSeries[0].fields.filter((fields) => (fields.name == 'logtime' || fields.name == 'log'))\n    timeZone = htmlGraphics.props.timeZone;\n    if(filteredFields.length == 2){\n      time = filteredFields[0];\n      logstring = filteredFields[1];\n      var options = { dateStyle: 'short' };\n      if(timeZone!='browser'){\n        options.timeZone = timeZone;\n      }\n      var timeOptions = { timeStyle: 'short' };\n      if(timeZone!='browser'){\n        timeOptions.timeZone = timeZone;\n      }\n      var beforedate = new Intl.DateTimeFormat('default', options).format(new Date());\n      for(let i = 0; i < time.values.length; i++) {\n        var date = new Intl.DateTimeFormat('default', options).format(new Date(time.values.get(i)));\n        if(beforedate != date){\n          addLog('<b>'+date+'</b>');\n        }\n        beforedate = date;\n        var timestr = new Intl.DateTimeFormat('default', timeOptions).format(new Date(time.values.get(i)));\n        addLog(timestr+\": \"+logstring.values.get(i));\n      }\n    }\n  }",
        "overflow": "auto",
        "panelupdateOnMount": true,
        "reduceOptions": {
          "calcs": []
        },
        "renderOnMount": true,
        "rootCSS": "",
        "useGrafanaScrollbar": true
      },
      "pluginVersion": "8.3.6",
      "targets": [
        {
          "rawQueryText": "-- NOTE: This panel requires configuration data not yet available in EAV schema\n-- Original query uses vehicle_settings table which is not migrated\nSELECT 0 AS value",
          "queryText": "-- NOTE: This panel requires configuration data not yet available in EAV schema\n-- Original query uses vehicle_settings table which is not migrated\nSELECT 0 AS value",
          "refId": "vehicle_settings",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Climatization\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/climatization/state' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Climatization\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/climatization/state' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "refId": "log",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "queryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "refId": "error",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Information",
      "type": "gapit-htmlgraphics-panel"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "If the car is charging, current charging power. This value is not available on all cars.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 11
              }
            ]
          },
          "unit": "kwatt",
          "unitScale": true
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 3,
        "x": 0,
        "y": 16
      },
      "id": 9,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto",
        "text": {}
      },
      "pluginVersion": "10.3.3",
      "targets": [
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"chargePower_kW\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/charging/power'\nORDER BY time DESC\nLIMIT 1",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"chargePower_kW\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/charging/power'\nORDER BY time DESC\nLIMIT 1",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Charging Power (now)",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Time remaining until desired state of charge is reached.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "m",
          "unitScale": true
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 3,
        "x": 3,
        "y": 16
      },
      "id": 20,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "last"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto",
        "text": {}
      },
      "pluginVersion": "10.3.3",
      "targets": [
        {
          "rawQueryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "queryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Remaining Charging Time (now)",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Current consumption and Range if the car would be at 100% SoC. Consumption is calculated as capacity divided by current range. The green area shows the WLTP range.\nSome cars only update these values during startup and shutdown. Value is only useful for electric cars or hybrids running on electricity only.\n\nNOTE: Requires configuration - not yet available in EAV schema\n\nNOTE: Requires configuration - not yet available in EAV schema",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "Extrapolated range at 100% SoC",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "km",
          "unitScale": true
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "WLTP"
            },
            "properties": [
              {
                "id": "unit",
                "value": "km"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Calculated consumption"
            },
            "properties": [
              {
                "id": "unit",
                "value": "kWh/100km"
              },
              {
                "id": "custom.axisLabel",
                "value": "Calculated consumption"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "WLTP"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#73BF69",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 20
              },
              {
                "id": "custom.lineWidth",
                "value": 0
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 6,
        "y": 16
      },
      "id": 14,
      "interval": "5m",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max",
            "min"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.2.5",
      "targets": [
        {
          "rawQueryText": "-- NOTE: This panel requires configuration data not yet available in EAV schema\n-- Original query uses vehicle_settings table which is not migrated\nSELECT 0 AS value",
          "queryText": "-- NOTE: This panel requires configuration data not yet available in EAV schema\n-- Original query uses vehicle_settings table which is not migrated\nSELECT 0 AS value",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "-- NOTE: This panel requires configuration data not yet available in EAV schema\n-- Original query uses vehicle_settings table which is not migrated\nSELECT 0 AS value",
          "queryText": "-- NOTE: This panel requires configuration data not yet available in EAV schema\n-- Original query uses vehicle_settings table which is not migrated\nSELECT 0 AS value",
          "refId": "B",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Consumption & Range extrapolated to 100% SoC",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Current efficiency. 100% means that with the current consumption the WLTP range is reached.\nSome cars only update these values during startup and shutdown. Value is only useful for electric cars or hybrids running on electricity only.\n\nNOTE: Requires configuration - not yet available in EAV schema\n\nNOTE: Requires configuration - not yet available in EAV schema",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "Efficiency",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percent",
          "unitScale": true
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Temperature"
            },
            "properties": [
              {
                "id": "unit",
                "value": "celsius"
              },
              {
                "id": "min",
                "value": -15
              },
              {
                "id": "max",
                "value": 40
              },
              {
                "id": "custom.axisPlacement",
                "value": "hidden"
              },
              {
                "id": "custom.axisLabel",
                "value": "Temperature"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "100% = WLTP Range"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#c9c9c9",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              },
              {
                "id": "custom.lineStyle",
                "value": {
                  "dash": [
                    10,
                    10
                  ],
                  "fill": "dash"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 6,
        "y": 24
      },
      "id": 15,
      "interval": "5m",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max",
            "min"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.2.5",
      "targets": [
        {
          "rawQueryText": "-- NOTE: This panel requires configuration data not yet available in EAV schema\n-- Original query uses vehicle_settings table which is not migrated\nSELECT 0 AS value",
          "queryText": "-- NOTE: This panel requires configuration data not yet available in EAV schema\n-- Original query uses vehicle_settings table which is not migrated\nSELECT 0 AS value",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "-- NOTE: This panel requires configuration data not yet available in EAV schema\n-- Original query uses vehicle_settings table which is not migrated\nSELECT 0 AS value",
          "queryText": "-- NOTE: This panel requires configuration data not yet available in EAV schema\n-- Original query uses vehicle_settings table which is not migrated\nSELECT 0 AS value",
          "refId": "B",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Efficiency",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "gridPos": {
        "h": 2,
        "w": 6,
        "x": 18,
        "y": 24
      },
      "id": 27,
      "links": [
        {
          "targetBlank": true,
          "title": "VWsFriend on GitHub",
          "url": "https://github.com/tillsteinbach/VWsFriend/"
        }
      ],
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "VWsFriend version: [0.0.0dev](https://github.com/tillsteinbach/VWsFriend/)",
        "mode": "markdown"
      },
      "pluginVersion": "10.3.3",
      "title": "Version",
      "type": "text"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Charging power and charging rate in kilometers over time.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "Charge Power",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "kwatt",
          "unitScale": true
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Charge Rate"
            },
            "properties": [
              {
                "id": "unit",
                "value": "velocitykmh"
              },
              {
                "id": "custom.axisLabel",
                "value": "Charge Rate"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Battery Temperature"
            },
            "properties": [
              {
                "id": "unit",
                "value": "celsius"
              },
              {
                "id": "custom.axisLabel",
                "value": "Battery Temperature"
              },
              {
                "id": "decimals",
                "value": 1
              },
              {
                "id": "custom.axisPlacement",
                "value": "hidden"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 6,
        "y": 32
      },
      "id": 18,
      "interval": "5m",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max",
            "min"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "8.2.5",
      "targets": [
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"chargePower_kW\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/charging/power'\nORDER BY time DESC\nLIMIT 1",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"chargePower_kW\"\nFROM attribute a\nJOIN attribute_float_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/charging/power'\nORDER BY time DESC\nLIMIT 1",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "queryText": "-- TODO: Convert this query to EAV schema\n-- Original query not yet converted\nSELECT 0 AS value",
          "refId": "B",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "Charging",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "frser-sqlite-datasource",
        "uid": "P2EF847825A020B66"
      },
      "description": "Highlights the times when the car is online, heating and charging.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "fixed"
          },
          "custom": {
            "fillOpacity": 70,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineWidth": 0,
            "spanNulls": false
          },
          "mappings": [
            {
              "options": {
                "CHARGE_PURPOSE_REACHED_CONSERVATION": {
                  "color": "blue",
                  "index": 11,
                  "text": "conservation charging"
                },
                "CHARGE_PURPOSE_REACHED_NOT_CONSERVATION_CHARGING": {
                  "color": "green",
                  "index": 10,
                  "text": "charge purpose reached"
                },
                "CHARGING": {
                  "color": "blue",
                  "index": 9,
                  "text": "charging"
                },
                "CONSERVATION": {
                  "color": "blue",
                  "index": 13,
                  "text": "conservation"
                },
                "COOLING": {
                  "color": "blue",
                  "index": 5,
                  "text": "cooling"
                },
                "DISCHARGING": {
                  "color": "yellow",
                  "index": 16,
                  "text": "discharging"
                },
                "ERROR": {
                  "color": "red",
                  "index": 8,
                  "text": "error"
                },
                "HEATING": {
                  "color": "red",
                  "index": 3,
                  "text": "heating"
                },
                "INVALID": {
                  "color": "red",
                  "index": 12,
                  "text": "invalid"
                },
                "NOT_READY_FOR_CHARGING": {
                  "color": "#3d3d3d",
                  "index": 14,
                  "text": "not ready for charging"
                },
                "OFF": {
                  "color": "#3d3d3d",
                  "index": 2,
                  "text": "off"
                },
                "ON": {
                  "color": "green",
                  "index": 4,
                  "text": "on"
                },
                "READY_FOR_CHARGING": {
                  "color": "green",
                  "index": 7,
                  "text": "ready for charging"
                },
                "UNSUPPORTED": {
                  "color": "#3d3d3d",
                  "index": 15,
                  "text": "unsupported"
                },
                "VENTILATION": {
                  "color": "purple",
                  "index": 6,
                  "text": "ventilation"
                },
                "offline": {
                  "color": "#3d3d3d",
                  "index": 1
                },
                "online": {
                  "color": "green",
                  "index": 0
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "none",
          "unitScale": true
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 12,
        "x": 6,
        "y": 40
      },
      "id": 21,
      "interval": "5m",
      "options": {
        "alignValue": "center",
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "mergeValues": true,
        "rowHeight": 0.9,
        "showValue": "auto",
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "7.5.2",
      "targets": [
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Online\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/connection_state' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Online\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/connection_state' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "refId": "A",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Climatization\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/climatization/state' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Climatization\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/climatization/state' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "refId": "B",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        },
        {
          "rawQueryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Charging\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/charging/state' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "queryText": "SELECT\n  strftime('%s', v.start_date) AS time,\n  v.value AS \"Charging\"\nFROM attribute a\nJOIN attribute_enum_value v ON a.id = v.attribute_id\nWHERE\n  a.path = '/garage/${VIN}/charging/state' AND\n  unixepoch(v.start_date) BETWEEN $__from / 1000 AND $__to / 1000\nORDER BY time",
          "refId": "C",
          "queryType": "table",
          "timeColumns": [
            "time"
          ]
        }
      ],
      "title": "States",
      "type": "state-timeline"
    }
  ],
  "refresh": "1m",
  "schemaVersion": 39,
  "tags": [
    "vwsfriend"
  ],
  "templating": {
    "list": [
      {
        "datasource": {
          "type": "frser-sqlite-datasource",
          "uid": "P2EF847825A020B66"
        },
        "definition": "SELECT DISTINCT substr(path, 9, 17) as vin FROM attribute WHERE path LIKE '/garage/%' AND length(substr(path, 9, 17)) = 17",
        "description": "Select Car if you have multiple cars in your account",
        "hide": 0,
        "includeAll": false,
        "label": "Car",
        "multi": false,
        "name": "VIN",
        "options": [],
        "query": "SELECT DISTINCT substr(path, 9, 17) as vin FROM attribute WHERE path LIKE '/garage/%' AND length(substr(path, 9, 17)) = 17",
        "refresh": 1,
        "regex": "/(?<value>[A-Z0-9]+):(?<text>.*)/",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false,
        "current": {}
      },
      {
        "datasource": {
          "type": "frser-sqlite-datasource",
          "uid": "P2EF847825A020B66"
        },
        "definition": "",
        "hide": 2,
        "includeAll": false,
        "multi": false,
        "name": "vwsfriend_url",
        "options": [],
        "query": "",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "type": "custom",
        "current": {
          "text": "",
          "value": ""
        }
      }
    ]
  },
  "time": {
    "from": "now-24h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "Car Overview (SQLite EAV)",
  "uid": "b0WnuNMnk",
  "version": 1,
  "weekStart": ""
}
